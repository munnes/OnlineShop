
@using Microsoft.AspNetCore.Identity
@using OnlineShop.Models

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager


<!DOCTYPE html>
<html style=" height: 100%;" >
<head>
    <meta name="viewport" content="width=device-width,initial scale=1" />   @*initial scale=1 is for zoom  *@
    <link href="~/lib/twitter-bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <script src="~/lib/jquery/jquery.min.js"></script>
    <script src="~/lib/jquery-validate/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    @* <script src="~/lib/jquery/jquery.js"></script>*@
    @* <script src="~/lib/jquery-validate/jquery.validate.js"></script>*@
   @* <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>*@
    <link href="~/lib/Style.css" rel="stylesheet" />

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp" crossorigin="anonymous">
    <title>@ViewBag.Title</title>

</head>
<body style=" min-height: 100%; position: relative;">

    <nav class="navbar navbar-expand-lg navbar navbar-dark bg-dark">

        <img src="~/images/logo.jpg" style="border-radius:50%" />
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="~/Home">
                        <i class="fas fa-home"></i>
                        Home<span class="sr-only ">(current)</span>
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="~/Home/About" style="color:white">
                        <i class="fas fa-info"></i>
                        About Us<span class="sr-only "></span>
                    </a>
                </li>

                @if (SignInManager.IsSignedIn(User))
                {
                    //if (SignInManager.Context.User.IsInRole("Customers"))
                    {

                        //@* ************************** *@
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color:white">
                                <i class="fas fa-shopping-basket"></i>
                                Orders
                            </a>

                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">

                                <a href='@Url.Action("UsrOrders", "Home")' class="dropdown-item">Open Orders</a>

                                <a href='@Url.Action("UsrHistory", "Home")' class="dropdown-item">Your Orders</a>

                            </div>
                        </li>
                    }
                    @* ************************* *@


                    if (SignInManager.Context.User.IsInRole("Administrators"))
                    {
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color:white">
                                <i class="fas fa-cogs"></i>
                                Admin Console
                            </a>

                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="~/Category/">Categories</a>
                                <a class="dropdown-item" href="~/Product/">Products</a>
                                <a class="dropdown-item" href="~/SecondaryImg/">Product Secondary Images</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="~/PrdInShop/">Products Stock</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="~/Advertisment/">Advertisment</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="~/Role/">Role</a>
                                <a asp-area="Identity" asp-page="/Account/Register" class="dropdown-item">Register</a>
                                <a class="dropdown-item" href="~/Home/RegisterViewModel">Queen Users</a>
                                <div class="dropdown-divider"></div>

                                <a class="dropdown-item" href="~/Courior/Index">Dispatch Items</a>
                                <a class="dropdown-item" href="~/Courior/SentItems">Sent Items</a>
                            </div>
                        </li>
                    }

                }


            </ul>
            <partial name="_CookieConsentPartial" />
            <partial name="_LoginPartial" />
            @* @if (SignInManager.Context.User.IsInRole("Customers"))*@
            @if (SignInManager.IsSignedIn(User))
            {   @Html.Partial("_CartPartial");
            }

            @if (ViewContext.RouteData.Values["controller"] != null)
            {<form class="form-inline my-2 my-lg-0" asp-action="Search" asp-controller=@ViewContext.RouteData.Values["controller"].ToString()>
                    <input class="form-control mr-sm-2" name="term" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                </form>
            }
        </div>

    </nav>

    <div class="container" style="padding-bottom: 2.7rem; ">
        @RenderBody()
    </div>
    <footer class="bg-dark" style="position: absolute;
        bottom: 0;
        width: 100%;
        height: 2.5rem;

    ">
        <div class="container" style=" color: white;text-align: center; padding-top:10px">
            @*<a href="~/Home/About">About Us</a>*@
            <h6 style="font-style:italic">&copy; Nasreen Sayed Siddig Elhussain</h6>
        </div>
    </footer>
    @RenderSection("Scripts", required: false)
    <script src="~/lib/jquery/jquery.min.js"></script>
    <script src="~/lib/twitter-bootstrap/js/bootstrap.min.js"></script>
    @*<script src="~/lib/jquery/jquery.js"></script>*@
    @*<script src="~/lib/twitter-bootstrap/js/bootstrap.js"></script>*@

</body>


</html>
